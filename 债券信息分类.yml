app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: å€ºåˆ¸ä¿¡æ¯åˆ†ç±»
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/deepseek:0.0.5@fd6efd37c2a931911de8ab9ca3ba2da303bef146d45ee87ad896b04b36d09403
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/openai:0.0.19@6b2b2e115b1b9d34a63eb26fadcc33d74330fd2ec06071bb30b8a24b1fab107a
kind: app
version: 0.2.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInLoop: false
        sourceType: start
        targetType: knowledge-retrieval
      id: 1742433387109-source-1745828487030-target
      source: '1742433387109'
      sourceHandle: source
      target: '1745828487030'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1745828487030-source-1745828813607-target
      source: '1745828487030'
      sourceHandle: source
      target: '1745828813607'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: document-extractor
      id: 1745912973554-1-1745910467049-target
      source: '1745912973554'
      sourceHandle: '1'
      target: '1745910467049'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: document-extractor
      id: 1745912973554-1745913940345-1745913925026-target
      source: '1745912973554'
      sourceHandle: '1745913940345'
      target: '1745913925026'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: end
      id: 1745912973554-1745917348307-1745829337255-target
      source: '1745912973554'
      sourceHandle: '1745917348307'
      target: '1745829337255'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: document-extractor
        targetType: variable-aggregator
      id: 1745910467049-source-1745918693011-target
      source: '1745910467049'
      sourceHandle: source
      target: '1745918693011'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: document-extractor
        targetType: variable-aggregator
      id: 1745913925026-source-1745918693011-target
      source: '1745913925026'
      sourceHandle: source
      target: '1745918693011'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: variable-aggregator
        targetType: llm
      id: 1745918693011-source-1745918493675-target
      source: '1745918693011'
      sourceHandle: source
      target: '1745918493675'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: end
      id: 1745918493675-source-1745829337255-target
      source: '1745918493675'
      sourceHandle: source
      target: '1745829337255'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: question-classifier
      id: 1746002673809-false-1745912973554-target
      source: '1746002673809'
      sourceHandle: 'false'
      target: '1745912973554'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: end
      id: 1746002673809-true-1746002910201-target
      source: '1746002673809'
      sourceHandle: 'true'
      target: '1746002910201'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: parameter-extractor
      id: 1745828813607-source-1746003749161-target
      source: '1745828813607'
      sourceHandle: source
      target: '1746003749161'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: parameter-extractor
        targetType: if-else
      id: 1746003749161-source-1746002673809-target
      source: '1746003749161'
      sourceHandle: source
      target: '1746002673809'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: query
          max_length: 10000
          options: []
          required: true
          type: paragraph
          variable: query
        - allowed_file_extensions: []
          allowed_file_types:
          - document
          allowed_file_upload_methods:
          - local_file
          - remote_url
          label: äºŒæ¡ç†Ÿ
          max_length: 5
          options: []
          required: true
          type: file-list
          variable: pdfs1
        - allowed_file_extensions: []
          allowed_file_types:
          - document
          allowed_file_upload_methods:
          - local_file
          - remote_url
          label: é€šå¨
          max_length: 5
          options: []
          required: true
          type: file-list
          variable: pdfs2
      height: 141
      id: '1742433387109'
      position:
        x: 146.03221333479235
        y: -333.2360073828931
      positionAbsolute:
        x: 146.03221333479235
        y: -333.2360073828931
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        dataset_ids:
        - mLdB2yEyXd6F18+ahgM4RjCc+2cXlusotQEnPsWt0j+nQls0OzNqFUT3H6eDOUP/
        desc: ''
        multiple_retrieval_config:
          reranking_enable: true
          reranking_mode: weighted_score
          top_k: 4
          weights:
            keyword_setting:
              keyword_weight: 0
            vector_setting:
              embedding_model_name: text-embedding-3-large
              embedding_provider_name: langgenius/openai/openai
              vector_weight: 1
        query_variable_selector:
        - '1742433387109'
        - query
        retrieval_mode: multiple
        selected: false
        title: çŸ¥è¯†æ£€ç´¢
        type: knowledge-retrieval
      height: 91
      id: '1745828487030'
      position:
        x: 426.09077273910145
        y: -298.33580161774125
      positionAbsolute:
        x: 426.09077273910145
        y: -298.33580161774125
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1745828487030'
          - result
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: deepseek-reasoner
          provider: langgenius/deepseek/deepseek
        prompt_template:
        - id: 2dafae09-7d8b-48a9-8dee-13f678e9e9f9
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªå€ºåˆ¸å‘è¡Œäººï¼Œæ ¹æ®é¡¹ç›®ä¿¡æ¯å’Œåˆ†ç±»æ¡ä»¶çš„åŒ¹é…åº¦ç¡®å®šè¯¥é¡¹ç›®åº”è¯¥å±äºå“ªä¸€ä¸ªé¡¹ç›®åç§°ï¼Œæ‰€æœ‰çš„ç±»åˆ«æ”¾åœ¨<context></context>XMLæ ‡ç­¾å†…ã€‚

            <context>

            {{#context#}}

            </context>


            å¦‚æœä½ ç¡®å®šäº†åˆ†ç±»ï¼Œå°±ç»™å‡ºåˆ†ç±»ä¾æ®ï¼Œé‡ç‚¹å¼ºè°ƒé¡¹ç›®ä¿¡æ¯ä¸­çš„æŒ‡æ ‡æ˜¯å¦ç¬¦åˆåˆ†ç±»æ¡ä»¶ä¸­ç»™å‡ºçš„æŒ‡æ ‡ã€‚è‹¥é¡¹ç›®ä¿¡æ¯ä¸­ç¼ºå°‘æ ‡å‡†æŒ‡æ ‡ï¼Œåº”æ˜ç¡®æå‡ºéœ€è¦è¡¥å……è¯¥æŒ‡æ ‡ã€‚å¦‚æœåˆ†ç±»æ¡ä»¶ä¸­è¿˜æ¶‰åŠå…¶ä»–ä¸é¡¹ç›®ä¿¡æ¯æœ‰å…³çš„æ–‡ä»¶ï¼Œåˆ™åˆ¤æ–­è¿™äº›æ–‡ä»¶å“ªäº›æ˜¯æœ‰å¿…è¦é˜…è¯»çš„ï¼Œå¹¶æŒ‡å¯¼ç”¨æˆ·å»å…¶ä»–æ–‡ä»¶ä¸­ç»§ç»­é˜…è¯»å¯»æ‰¾åˆ¤æ–­æŒ‡æ ‡ã€‚


            å¦‚æœä½ è®¤ä¸ºå“ªä¸ªåˆ†ç±»éƒ½ä¸ç¬¦åˆï¼Œä¹Ÿç»™å‡ºä¾æ®


            å¦‚æœä½ è®¤ä¸ºå­˜åœ¨å¤šä¸ªé«˜åº¦ç–‘ä¼¼çš„åˆ†ç±»ï¼Œåˆ™ä¸å¿…åˆ†ç±»å¹¶ç»™å‡ºä¾æ®'
        - id: 665b3ae7-6811-4bb6-b913-53aff907dfbc
          role: user
          text: 'é¡¹ç›®ä¿¡æ¯ï¼š

            {{#1742433387109.query#}}'
        selected: false
        structured_output:
          schema:
            additionalProperties: false
            properties:
              judge:
                description: åˆ¤æ–­é¡¹ç›®æŒ‡æ ‡ä¸­çš„å„é¡¹æŒ‡æ ‡æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œè‹¥é¡¹ç›®ä¿¡æ¯ä¸­ç¼ºå°‘æ ‡å‡†æŒ‡æ ‡ï¼Œåº”æ˜ç¡®æå‡ºéœ€è¦è¡¥å……è¯¥æŒ‡æ ‡ã€‚
                items:
                  type: string
                type: array
              other_document:
                description: reasonä¸­æåˆ°è¿˜éœ€è¦é˜…è¯»çš„æ–‡æ¡£
                items:
                  type: string
                type: array
              project_index:
                description: é¡¹ç›®æŒ‡æ ‡ï¼šé¡¹ç›®ä¿¡æ¯ä¸­æåˆ°çš„æŠ€æœ¯æŒ‡æ ‡
                items:
                  type: string
                type: array
              reason:
                description: åˆ†ç±»åŸå› è§£é‡Š
                type: string
              standard_index:
                description: æ ‡å‡†æŒ‡æ ‡ï¼šåˆ†ç±»æ¡ä»¶ä¸­åŒ…å«çš„æŠ€æœ¯æŒ‡æ ‡
                items:
                  type: string
                type: array
            required: []
            type: object
        structured_output_enabled: true
        title: åˆæ­¥ç­›é€‰
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1745828813607'
      position:
        x: 739.6763133407297
        y: -257.3737440099452
      positionAbsolute:
        x: 739.6763133407297
        y: -257.3737440099452
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1745828813607'
          - structured_output
          variable: text
        - value_selector:
          - '1745918493675'
          - structured_output
          variable: text
        selected: false
        title: ç»“æŸ
        type: end
      height: 115
      id: '1745829337255'
      position:
        x: 1160.9760091786734
        y: 647.747064714626
      positionAbsolute:
        x: 1160.9760091786734
        y: 647.747064714626
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_array_file: true
        selected: false
        title: æ–‡æ¡£æå–å™¨
        type: document-extractor
        variable_selector:
        - '1742433387109'
        - pdfs1
      height: 91
      id: '1745910467049'
      position:
        x: 789.866277391331
        y: 197.4307842743845
      positionAbsolute:
        x: 789.866277391331
        y: 197.4307842743845
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        classes:
        - id: '1'
          name: ã€Šäº§ä¸šå›­åŒºåºŸæ°”ç»¼åˆåˆ©ç”¨åŸåˆ™å’Œè¦æ±‚ã€‹ï¼ˆGB/T 36574ï¼‰ã€ã€Šç‡ƒç…¤çƒŸæ°”è„±ç¡è£…å¤‡è¿è¡Œæ•ˆæœè¯„ä»·æŠ€æœ¯è¦æ±‚ã€‹ï¼ˆGB/T 34340ï¼‰
        - id: '1745913940345'
          name: ã€Šå…‰ä¼åˆ¶é€ è¡Œä¸šè§„èŒƒæ¡ä»¶ï¼ˆ2018å¹´æœ¬ï¼‰ã€‹ã€ã€Šå…‰ä¼ç”µæ± è¡Œä¸šæ¸…æ´ç”Ÿäº§è¯„ä»·æŒ‡æ ‡ä½“ç³»ã€‹
        - id: '1745917348307'
          name: æ— éœ€é˜…è¯»æ–‡æ¡£
        desc: ''
        instruction: æ ¹æ®ä¸Šä¸€æ­¥çš„åˆ†æç»“æœä¸­çš„åˆ¤æ–­æ¥ä¸‹æ¥æ˜¯å¦éœ€è¦é˜…è¯»å…¶ä»–æ–‡ç« ï¼Œå¦‚æœéœ€è¦ï¼Œåˆ™å°†éœ€è¦é˜…è¯»çš„æ–‡ä»¶åè¿›è¡Œåˆ†ç±»ã€‚
        instructions: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        query_variable_selector:
        - '1745828813607'
        - text
        selected: false
        title: é—®é¢˜åˆ†ç±»å™¨
        topics: []
        type: question-classifier
        vision:
          enabled: false
      height: 289
      id: '1745912973554'
      position:
        x: 346.4975783805987
        y: 204.10206745595173
      positionAbsolute:
        x: 346.4975783805987
        y: 204.10206745595173
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_array_file: true
        selected: false
        title: æ–‡æ¡£æå–å™¨ 2
        type: document-extractor
        variable_selector:
        - '1742433387109'
        - pdfs2
      height: 91
      id: '1745913925026'
      position:
        x: 779.0397304876852
        y: 309.16275071040326
      positionAbsolute:
        x: 779.0397304876852
        y: 309.16275071040326
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1745918693011'
          - output
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: deepseek-reasoner
          provider: langgenius/deepseek/deepseek
        prompt_template:
        - edition_type: basic
          id: c623d53d-0f28-4bd7-9ae1-f6c685348323
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªæ–‡æ¡£é˜…è¯»ä¸“å®¶ï¼Œè¦åœ¨ç»™å®šçš„å†…å®¹é‡Œå¯»æ‰¾ç”¨æˆ·é—®é¢˜çš„ç­”æ¡ˆï¼Œæ–‡æ¡£å†…å®¹æ”¾åœ¨<context></context>XMLæ ‡ç­¾å†…ã€‚

            <context>

            {{#context#}}

            </context>'
        - id: cda1c462-6120-4378-80f2-09fae9eaf4ea
          role: user
          text: 'æ–‡ä¸­åŒ…å«äº†å“ªäº›æŠ€æœ¯æŒ‡æ ‡ï¼ŸæŠŠæœ‰ç”¨çš„æŒ‡æ ‡è¡¥å……åˆ°ä¹‹å‰çš„åˆ†æç»“è®ºä¸­è¿›è¡Œä¸€ä¸ªè¡¥å……æ€»ç»“ã€‚


            ##ä¸Šä¸€æ­¥åˆ†æçš„ç»“è®ºï¼š

            {{#1745828813607.structured_output#}}'
        selected: false
        structured_output:
          schema:
            additionalProperties: false
            properties:
              judge:
                description: åˆ¤æ–­é¡¹ç›®æŒ‡æ ‡ä¸­çš„å„é¡¹æŒ‡æ ‡æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œè‹¥é¡¹ç›®ä¿¡æ¯ä¸­ç¼ºå°‘æ ‡å‡†æŒ‡æ ‡ï¼Œåº”æ˜ç¡®æå‡ºéœ€è¦è¡¥å……è¯¥æŒ‡æ ‡ã€‚
                items:
                  type: string
                type: array
              project_index:
                description: é¡¹ç›®æŒ‡æ ‡ï¼šé¡¹ç›®ä¿¡æ¯ä¸­æåˆ°çš„æŠ€æœ¯æŒ‡æ ‡
                items:
                  type: string
                type: array
              reason:
                description: åˆ†ç±»åŸå› è§£é‡Š
                type: string
              standard_index:
                description: æ ‡å‡†æŒ‡æ ‡ï¼šåˆ†ç±»æ¡ä»¶ä¸­åŒ…å«çš„æŠ€æœ¯æŒ‡æ ‡
                items:
                  type: string
                type: array
            required: []
            type: object
        structured_output_enabled: true
        title: è¡¥å……ç»“è®º
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1745918493675'
      position:
        x: 1419.1549901514243
        y: 223.9569675780549
      positionAbsolute:
        x: 1419.1549901514243
        y: 223.9569675780549
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        advanced_settings:
          group_enabled: false
          groups:
          - groupId: a580f4f4-99a2-4bad-a486-8171a46e9a67
            group_name: Group1
            output_type: array[string]
            variables:
            - - '1745910467049'
              - text
            - - '1745913925026'
              - text
        desc: ''
        output_type: array[string]
        selected: false
        title: å˜é‡èšåˆå™¨
        type: variable-aggregator
        variables:
        - - '1745910467049'
          - text
        - - '1745913925026'
          - text
      height: 130
      id: '1745918693011'
      position:
        x: 1094.5639944081554
        y: 121.9781873062233
      positionAbsolute:
        x: 1094.5639944081554
        y: 121.9781873062233
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: empty
            id: 6d90dd68-dad5-45c1-bf17-e69fa56f71b0
            value: ''
            varType: array[string]
            variable_selector:
            - '1746003749161'
            - other_document
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 125
      id: '1746002673809'
      position:
        x: 485.78566850797847
        y: -86.99456233627527
      positionAbsolute:
        x: 485.78566850797847
        y: -86.99456233627527
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1745828813607'
          - text
          variable: text
        - value_selector:
          - '1745828813607'
          - structured_output
          variable: structured_output
        selected: false
        title: ç»“æŸ 2
        type: end
      height: 115
      id: '1746002910201'
      position:
        x: 842.7113994593892
        y: -31.26851136282542
      positionAbsolute:
        x: 842.7113994593892
        y: -31.26851136282542
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        parameters:
        - description: éœ€è¦é˜…è¯»çš„å…¶ä»–æ–‡æ¡£åç§°
          name: other_document
          required: false
          type: array[string]
        query:
        - '1745828813607'
        - structured_output
        reasoning_mode: prompt
        selected: false
        title: å‚æ•°æå–å™¨
        type: parameter-extractor
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1746003749161'
      position:
        x: 1058.6064959291855
        y: -247.1067778077126
      positionAbsolute:
        x: 1058.6064959291855
        y: -247.1067778077126
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -127.12670187094261
      y: 344.91869982707476
      zoom: 0.804088848497925
